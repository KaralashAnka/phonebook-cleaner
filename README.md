# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–¥—Ä–µ—Å–Ω–æ–π –∫–Ω–∏–≥–∏ —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥—Ä–µ—Å–Ω–æ–π –∫–Ω–∏–≥–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV. –†–µ—à–∞–µ—Ç —Ç–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –§–ò–û, —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∑–∞–ø–∏—Å–∏.

## üéØ –ó–∞–¥–∞—á–∏

1. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –§–ò–û**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–º–∏–ª–∏–∏, –∏–º–µ–Ω–∏ –∏ –æ—Ç—á–µ—Å—Ç–≤–∞ –ø–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ø–æ–ª—è–º
2. **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤**: –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–æ–º–µ—Ä–æ–≤ –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É `+7(999)999-99-99`
3. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–µ–π**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –æ–± –æ–¥–Ω–æ–º —á–µ–ª–æ–≤–µ–∫–µ –≤ –µ–¥–∏–Ω—É—é –∑–∞–ø–∏—Å—å

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.x
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: `csv`, `re`, `collections`
- –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª: `phonebook_raw.csv`
- –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª: `phonebook.csv`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
phonebook-cleaner/
‚îú‚îÄ‚îÄ phonebook_solution.py    # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ phonebook_raw.csv        # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ phonebook.csv           # –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `phonebook_raw.csv` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
python phonebook_solution.py
```
3. –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ñ–∞–π–ª `phonebook.csv`

## üìä –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (phonebook_raw.csv)
```csv
lastname,firstname,surname,organization,position,phone,email
–£—Å–æ–ª—å—Ü–µ–≤ –û–ª–µ–≥ –í–∞–ª–µ–Ω—Ç–∏–Ω–æ–≤–∏—á,,,–§–ù–° –†–æ—Å—Å–∏–∏,–∞–Ω–∞–ª–∏—Ç–∏–∫,+7(495)888-88-88,opendata@nalog.ru
–ú–∞—Ä—Ç–∏–Ω—è—Ö–∏–Ω –í–∏—Ç–∞–ª–∏–π,–ì–µ–Ω–Ω–∞–¥—å–µ–≤–∏—á,,–§–ù–° –†–æ—Å—Å–∏–∏,–≥–ª–∞–≤–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç,8 (495) 888-88-88,
```

### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (phonebook.csv)
```csv
lastname,firstname,surname,organization,position,phone,email
–£—Å–æ–ª—å—Ü–µ–≤,–û–ª–µ–≥,–í–∞–ª–µ–Ω—Ç–∏–Ω–æ–≤–∏—á,–§–ù–° –†–æ—Å—Å–∏–∏,–∞–Ω–∞–ª–∏—Ç–∏–∫,+7(495)888-88-88,opendata@nalog.ru
–ú–∞—Ä—Ç–∏–Ω—è—Ö–∏–Ω,–í–∏—Ç–∞–ª–∏–π,–ì–µ–Ω–Ω–∞–¥—å–µ–≤–∏—á,–§–ù–° –†–æ—Å—Å–∏–∏,–≥–ª–∞–≤–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç,+7(495)888-88-88,opendata@nalog.ru
```

## ‚öôÔ∏è –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –§–ò–û
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö —Ç—Ä–µ—Ö –ø–æ–ª–µ–π –∑–∞–ø–∏—Å–∏
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–æ–±–µ–ª–∞–º –º–µ—Ç–æ–¥–æ–º `split()`
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–æ–ª—è–º: —Ñ–∞–º–∏–ª–∏—è, –∏–º—è, –æ—Ç—á–µ—Å—Ç–≤–æ
- **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è** (–ø–æ —É—Å–ª–æ–≤–∏—é –∑–∞–¥–∞–Ω–∏—è)

### 2. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è:
- –ü–æ–∏—Å–∫–∞ –¥–æ–±–∞–≤–æ—á–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤: `(?:–¥–æ–±\.?|ext\.?|–¥–æ–±–∞–≤–æ—á–Ω—ã–π)\s*(\d+)`
- –ò–∑–≤–ª–µ—á–µ–Ω–∏—è —Ü–∏—Ñ—Ä: `re.sub(r'\D', '', phone)`
- –ü—Ä–∏–≤–µ–¥–µ–Ω–∏—è –∫ —Ñ–æ—Ä–º–∞—Ç—É: `+7(999)999-99-99` –∏–ª–∏ `+7(999)999-99-99 –¥–æ–±.XXXX`

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤—Ö–æ–¥–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤:**
- `8 (495) 888-88-88` ‚Üí `+7(495)888-88-88`
- `8 495 888 88 88 –¥–æ–±.2334` ‚Üí `+7(495)888-88-88 –¥–æ–±.2334`
- `(495) 888-88-88` ‚Üí `+7(495)888-88-88`
- `88888888888` ‚Üí `+7(888)888-88-88`
- `+7(495)888-88-88` ‚Üí –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 3. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥—É–±–ª–µ–π
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–∞–ø–∏—Å–µ–π –ø–æ –∫–ª—é—á—É (—Ñ–∞–º–∏–ª–∏—è + –∏–º—è) –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –æ–± –æ–¥–Ω–æ–º —á–µ–ª–æ–≤–µ–∫–µ
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –±–µ—Ä–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –≤—Å–µ—Ö –¥—É–±–ª–µ–π

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–ü—Ä–∏–º–µ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**
```
–ò—Å—Ö–æ–¥–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π: 9 (–≤–∫–ª—é—á–∞—è –∑–∞–≥–æ–ª–æ–≤–æ–∫)
–ò—Ç–æ–≥–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π: 6 (–≤–∫–ª—é—á–∞—è –∑–∞–≥–æ–ª–æ–≤–æ–∫)
–£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–µ–π: 3
```

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `phonebook_raw.csv` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏:
- –†–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∑–∞–ø–∏—Å–∏ –§–ò–û
- –†–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤
- –î—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–ø–∏—Å–µ–π —Å —Ä–∞–∑–Ω–æ–π –ø–æ–ª–Ω–æ—Ç–æ–π –¥–∞–Ω–Ω—ã—Ö
- –ó–∞–ø–∏—Å–µ–π —Å –¥–æ–±–∞–≤–æ—á–Ω—ã–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏

## üîß –§—É–Ω–∫—Ü–∏–∏

### `fix_name_fields(contact)`
–†–∞–∑–¥–µ–ª—è–µ—Ç –§–ò–û –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π.

### `normalize_phone(phone)`
–ü—Ä–∏–≤–æ–¥–∏—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π.

### `merge_contacts(contacts)`
–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∑–∞–ø–∏—Å–∏ –ø–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é —Ñ–∞–º–∏–ª–∏–∏ –∏ –∏–º–µ–Ω–∏.

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8
- –ö–æ—Ä–æ—Ç–∫–∏–µ –Ω–æ–º–µ—Ä–∞ (–º–µ–Ω–µ–µ 7 —Ü–∏—Ñ—Ä) –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
- –ü—Ä–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ –¥—É–±–ª–µ–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –î–æ–±–∞–≤–æ—á–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –≤–∏–¥–µ

## 
